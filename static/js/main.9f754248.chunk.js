(this.webpackJsonpavia19=this.webpackJsonpavia19||[]).push([[0],{23:function(t,n,e){},38:function(t,n,e){t.exports=e.p+"static/media/logo.0c089234.svg"},40:function(t,n,e){t.exports=e(65)},65:function(t,n,e){"use strict";e.r(n);var a=e(0),r=e.n(a),i=e(33),c=e.n(i),o=(e(23),e(39)),u=e(8),l=e.n(u),s=e(20),f=e(17),p=e(10),d=e(11),m=e(16),h=e(14),g=e(2),x=e(18),b=e.n(x),v=e(3),k=e(34),O=e.n(k),w=e(15),j=e(67),E=e(68);function y(){var t=Object(g.a)(["\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 21px;\n  color: #4a4a4a;\n"]);return y=function(){return t},t}function F(){var t=Object(g.a)(["\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 18px;\n  display: flex;\n  align-items: center;\n  letter-spacing: 0.5px;\n  text-transform: uppercase;\n  color: #a0b0b9;\n"]);return F=function(){return t},t}function S(){var t=Object(g.a)(["\n  width: 141px;\n  height: 39px;\n  display: flex;\n  flex-direction: column;\n"]);return S=function(){return t},t}function C(){var t=Object(g.a)(["\n  height: 39px;\n  width: 462px;\n  margin-bottom: 10px;\n  margin-left: 20px;\n  display: flex;\n"]);return C=function(){return t},t}function B(){var t=Object(g.a)(["\n  width: 110px;\n  height: 36px;\n  &:hover {\n    cursor: pointer;\n  }\n"]);return B=function(){return t},t}function A(){var t=Object(g.a)(["\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 24px;\n  line-height: 24px;\n  display: flex;\n  align-items: center;\n  color: #2196f3;\n"]);return A=function(){return t},t}function T(){var t=Object(g.a)(["\n  width: 432px;\n  height: 36px;\n  margin-top: 20px;\n  margin-bottom: 20px;\n  margin-left: 20px;\n  display: flex;\n  justify-content: space-between;\n"]);return T=function(){return t},t}function D(){var t=Object(g.a)(["\n  width: 502px;\n  height: 184px;\n  background: #ffffff;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n  margin-top: 20px;\n  padding: 1px;\n"]);return D=function(){return t},t}var z=v.a.div(D()),I=v.a.div(T()),L=v.a.div(A()),W=v.a.img.attrs((function(t){return{src:t.img}}))(B()),G=v.a.div(C()),P=v.a.div(S()),R=v.a.div(F()),J=v.a.div(y()),M=function(t){var n=t.price,e=t.carrier,a=t.forwardRoute,i=t.timeForwardStart,c=t.timeForwardDestination,o=t.timeFlightForward,u=t.stopsForward,l=t.countStopsPhrase,s=t.backRoute,f=t.timeBackdStart,p=t.timeBackDestination,d=t.timeFlightBack,m=t.stopsBack,h=t.countStopsPhraseBack,g="http://pics.avs.io/99/36/".concat(e,".png");return r.a.createElement(z,null,r.a.createElement(I,null,r.a.createElement(L,null,"".concat(n.toLocaleString().split(",").join(" ")," \u0420")),r.a.createElement(W,{img:g})),r.a.createElement(G,null,r.a.createElement(P,null,r.a.createElement(R,null,a),r.a.createElement(J,null,"".concat(i," - ").concat(c))),r.a.createElement(P,null,r.a.createElement(R,null,"\u0412 \u043f\u0443\u0442\u0438"),r.a.createElement(J,null,o)),r.a.createElement(P,null,r.a.createElement(R,null,"".concat(l)),r.a.createElement(J,null,u))),r.a.createElement(G,null,r.a.createElement(P,null,r.a.createElement(R,null,s),r.a.createElement(J,null,"".concat(f," - ").concat(p))),r.a.createElement(P,null,r.a.createElement(R,null,"\u0412 \u043f\u0443\u0442\u0438"),r.a.createElement(J,null,d)),r.a.createElement(P,null,r.a.createElement(R,null,"".concat(h)),r.a.createElement(J,null,m))))},q=function(t){Object(m.a)(e,t);var n=Object(h.a)(e);function e(){var t;Object(p.a)(this,e);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=n.call.apply(n,[this].concat(r))).getDestinationTime=function(t,n){return Object(j.a)(t,n)},t.countTime=function(t){var n=Math.trunc(t/60),e=t-60*n;return"".concat(n,"\u0447 ").concat(e,"\u043c")},t.getWord=function(t){return 0===t?"\u041d\u0415\u0422 \u041f\u0415\u0420\u0415\u0421\u0410\u0414\u041e\u041a":1===t?"1 \u041f\u0415\u0420\u0415\u0421\u0410\u0414\u041a\u0410":"".concat(t," \u041f\u0415\u0420\u0415\u0421\u0410\u0414\u041a\u0418")},t}return Object(d.a)(e,[{key:"render",value:function(){var t=this;return this.props.tickets.slice(0,5).map((function(n){var e=n.id,a=n.price,i=n.carrier,c=Object(w.a)(n.segments,2),o=c[0],u=o.origin,l=o.destination,s=o.date,f=o.duration,p=o.stops,d=c[1],m=d.origin,h=d.destination,g=d.date,x=d.duration,b=d.stops;return r.a.createElement(M,{key:e,price:a,carrier:i,forwardRoute:"".concat(u," - ").concat(l),timeForwardStart:Object(E.a)(new Date(s),"kk:mm"),timeForwardDestination:Object(E.a)(Object(j.a)(new Date(s),f),"kk:mm"),timeFlightForward:t.countTime(f),stopsForward:p.join(", "),countStopsPhrase:t.getWord(p.length),backRoute:"".concat(m," - ").concat(h),timeBackdStart:Object(E.a)(new Date(g),"kk:mm"),timeBackDestination:Object(E.a)(Object(j.a)(new Date(g),x),"kk:mm"),timeFlightBack:t.countTime(x),stopsBack:b.join(", "),countStopsPhraseBack:t.getWord(b.length)})}))}}]),e}(r.a.Component);function N(){var t=Object(g.a)(["\n  display: inline-block;\n  width: 20px;\n  height: 20px;\n  background: white;;\n  border-radius: 3px;\n  transition: all 150ms;\n  border-width: 1px;\n  border-style: solid;\n  border-color: ",";;\n  "," {\n    visibility: ","\n  }\n"]);return N=function(){return t},t}function $(){var t=Object(g.a)(["\n  border: 0;\n  clip: rect(0 0 0 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  white-space: nowrap;\n  width: 1px;\n"]);return $=function(){return t},t}function H(){var t=Object(g.a)(["\n  fill: none;\n  stroke: #2196F3;\n  stroke-width: 2px;\n"]);return H=function(){return t},t}function K(){var t=Object(g.a)(["\n  display: inline-block;\n  vertical-align: middle;\n"]);return K=function(){return t},t}var Q=v.a.div(K()),U=v.a.svg(H()),V=v.a.input.attrs({type:"checkbox"})($()),X=v.a.div(N(),(function(t){return t.checked?"#2196F3":"#9ABBCE"}),U,(function(t){return t.checked?"visible":"hidden"})),Y=function(t){var n=t.checked,e=t.onChange;return r.a.createElement(Q,null,r.a.createElement(V,{checked:n,onChange:e}),r.a.createElement(X,{checked:n},r.a.createElement(U,{viewBox:"0 0 24 24"},r.a.createElement("polyline",{points:"20 6 9 17 4 12"}))))};function Z(){var t=Object(g.a)(["\n  margin-left: 8px;\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 13px;\n  line-height: 20px;\n  color: #4a4a4a;\n"]);return Z=function(){return t},t}function _(){var t=Object(g.a)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n"]);return _=function(){return t},t}function tt(){var t=Object(g.a)(["\n  margin-left: 20px;\n  display: flex;\n  flex-direction: column;\n"]);return tt=function(){return t},t}function nt(){var t=Object(g.a)(["\n  margin-top: 19px;\n  margin-left: 19px;\n  margin-bottom: 20px;\n  font-family: 'Open Sans';\n  font-style: normal;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 12px;\n  letter-spacing: 0.5px;\n  text-transform: uppercase;\n  color: #4a4a4a;\n"]);return nt=function(){return t},t}function et(){var t=Object(g.a)(["\n  width: 232px;\n  height: 252px;\n  background: #ffffff;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n  padding: 1px;\n"]);return et=function(){return t},t}var at=v.a.div(et()),rt=v.a.div(nt()),it=v.a.div(tt()),ct=v.a.label(_()),ot=v.a.span(Z()),ut=function(t){var n=t.handleCheckboxChange,e=t.status;return r.a.createElement(at,null,r.a.createElement(rt,null,"\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"),r.a.createElement(it,null,[["all","\u0432\u0441\u0435"],["0tranfers","\u0411\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"],["1tranfers","1 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430"],["2tranfers","2 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438"],["3tranfers","3 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438"]].map((function(t){var a=Object(w.a)(t,2),i=a[0],c=a[1];return r.a.createElement(ct,{key:i},r.a.createElement(Y,{checked:-1!==e.indexOf(i),onChange:n(i)}),r.a.createElement(ot,null,c))}))))};function lt(){var t=Object(g.a)(["\n  font-family: 'Open Sans';\n  font-style: normal;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 20px;\n  display: flex;\n  align-items: center;\n  text-align: center;\n  letter-spacing: 0.5px;\n  text-transform: uppercase;\n  color: ",";\n"]);return lt=function(){return t},t}function st(){var t=Object(g.a)(["\n  width: 252px;\n  height: 50px;\n  border: 1px solid #dfe5ec;\n  border-radius: 10px 0 0 10px;\n  box-sizing: border-box;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: ",";\n  border-radius: ",";\n  :focus {\n    outline: none;\n  }\n"]);return st=function(){return t},t}function ft(){var t=Object(g.a)(["\n  width: 503px;\n  height: 50px;\n  display: flex;\n"]);return ft=function(){return t},t}var pt=v.a.div(ft()),dt=v.a.button(st(),(function(t){return t.active?"#2196f3":"#FFFFFF"}),(function(t){return t.first?"10px 0 0 10px":"0 10px 10px 0"})),mt=v.a.div(lt(),(function(t){return t.active?"#FFFFFF":"#4A4A4A"})),ht=function(t){var n=t.handleClickCheap,e=t.handleClickFast,a=t.buttonState;return r.a.createElement(pt,null,r.a.createElement(dt,{active:"cheapest"===a,first:!0,onClick:n},r.a.createElement(mt,{active:"cheapest"===a},"\u0441\u0430\u043c\u044b\u0439 \u0434\u0435\u0448\u0435\u0432\u044b\u0439")),r.a.createElement(dt,{active:"fast"===a,onClick:e},r.a.createElement(mt,{active:"fast"===a},"\u0441\u0430\u043c\u044b\u0439 \u0431\u044b\u0441\u0442\u0440\u044b\u0439")))},gt=e(38),xt=e.n(gt);function bt(){var t=Object(g.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-left: 20px;\n"]);return bt=function(){return t},t}function vt(){var t=Object(g.a)(["\n  display: flex;\n  justify-content: center;\n"]);return vt=function(){return t},t}function kt(){var t=Object(g.a)(["\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  background: #F3F7FA;\n"]);return kt=function(){return t},t}function Ot(){var t=Object(g.a)(["\n  height: 70px;\n  margin-top: 50px;\n  margin-bottom: 40px;\n  &:hover {\n    cursor: pointer;\n  }\n"]);return Ot=function(){return t},t}var wt=v.a.img.attrs((function(t){return{src:t.img}}))(Ot()),jt=v.a.div(kt()),Et=v.a.div(vt()),yt=v.a.div(bt()),Ft=function(t){Object(m.a)(e,t);var n=Object(h.a)(e);function e(){var t;Object(p.a)(this,e);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=n.call.apply(n,[this].concat(r))).state={tickets:[],status:["all"],buttonState:"default"},t.searchIdLink="https://front-test.beta.aviasales.ru/search",t.getTicketsLink="https://front-test.beta.aviasales.ru/tickets?searchId=",t.getTickets=Object(f.a)(l.a.mark((function n(){var e,a,r,i;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,b.a.get(t.searchIdLink);case 3:return e=n.sent,a=e.data.searchId,n.next=7,b.a.get("".concat(t.getTicketsLink).concat(a));case 7:r=n.sent,i=r.data.tickets.map((function(t){return Object(s.a)(Object(s.a)({},t),{},{id:O.a.uniqueId()})})),t.setState({tickets:i}),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),t.getTickets();case 15:case"end":return n.stop()}}),n,null,[[0,12]])}))),t.getTransferCountFilteredArr=function(n){var e=t.state.status;if(-1!==e.indexOf("all"))return t.sortArr(n);var a=e.map((function(t){return Number(t[0])})),r=n.filter((function(t){return-1!==a.indexOf(t.segments[0].stops.length)&&-1!==a.indexOf(t.segments[1].stops.length)}));return r=t.sortArr(r)},t.handleCheckboxChange=function(n){return function(){if("all"!==n){var e=t.state.status;if(-1!==e.indexOf("all")&&(e=[]),-1===e.indexOf(n))e=[].concat(Object(o.a)(e),[n]),t.setState({status:e});else{if(0===(e=e.filter((function(t){return t!==n}))).length)return void t.setState({status:["all"]});t.setState({status:e})}}else t.setState({status:["all"]})}},t.handleClickCheap=function(){"cheapest"===t.state.buttonState?t.setState({buttonState:"default"}):t.setState({buttonState:"cheapest"})},t.handleClickFast=function(){"fast"===t.state.buttonState?t.setState({buttonState:"default"}):t.setState({buttonState:"fast"})},t.renderFastGetFilter=function(n){var e=t.state.buttonState;if("cheapest"===e){var a=n;return a.sort((function(t,n){return t.price-n.price})),a}if("fast"===e){var r=n;return r.sort((function(t,n){return t.segments[0].duration+t.segments[1].duration-(n.segments[0].duration+n.segments[1].duration)})),r}return n},t.sortArr=function(n){var e=t.state.buttonState;return"cheapest"===e?n.sort((function(t,n){return t.price-n.price})):"fast"===e?n.sort((function(t,n){return t.segments[0].duration+t.segments[1].duration-(n.segments[0].duration+n.segments[1].duration)})):n},t}return Object(d.a)(e,[{key:"componentDidMount",value:function(){var t=Object(f.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.getTickets();case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this.state,n=t.tickets,e=t.buttonState,a=t.status,i=this.renderFastGetFilter(n);return i=this.getTransferCountFilteredArr(i),r.a.createElement(jt,null,r.a.createElement(wt,{img:xt.a}),r.a.createElement(Et,null,r.a.createElement(ut,{handleCheckboxChange:this.handleCheckboxChange,status:a}),r.a.createElement(yt,null,r.a.createElement(ht,{buttonState:e,cheapFastGetFilter:this.cheapFastGetFilter,handleClickCheap:this.handleClickCheap,handleClickFast:this.handleClickFast}),r.a.createElement(q,{tickets:i}))))}}]),e}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(Ft,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.9f754248.chunk.js.map