(this.webpackJsonpavia19=this.webpackJsonpavia19||[]).push([[0],{23:function(t,e,n){},38:function(t,e,n){t.exports=n.p+"static/media/logo.0c089234.svg"},40:function(t,e,n){t.exports=n(65)},65:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),i=n(33),c=n.n(i),o=(n(23),n(12)),u=n.n(o),l=n(20),s=n(17),f=n(7),p=n(8),d=n(10),h=n(9),m=n(2),g=n(18),v=n.n(g),x=n(3),b=n(34),k=n.n(b),O=n(16),j=n(67),w=n(68);function y(){var t=Object(m.a)(["\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 21px;\n  color: #4a4a4a;\n"]);return y=function(){return t},t}function E(){var t=Object(m.a)(["\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 18px;\n  display: flex;\n  align-items: center;\n  letter-spacing: 0.5px;\n  text-transform: uppercase;\n  color: #a0b0b9;\n"]);return E=function(){return t},t}function F(){var t=Object(m.a)(["\n  width: 141px;\n  height: 39px;\n  display: flex;\n  flex-direction: column;\n"]);return F=function(){return t},t}function S(){var t=Object(m.a)(["\n  height: 39px;\n  width: 462px;\n  margin-bottom: 10px;\n  margin-left: 20px;\n  display: flex;\n"]);return S=function(){return t},t}function C(){var t=Object(m.a)(["\n  width: 110px;\n  height: 36px;\n  &:hover {\n    cursor: pointer;\n  }\n"]);return C=function(){return t},t}function B(){var t=Object(m.a)(["\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 24px;\n  line-height: 24px;\n  display: flex;\n  align-items: center;\n  color: #2196f3;\n"]);return B=function(){return t},t}function T(){var t=Object(m.a)(["\n  width: 432px;\n  height: 36px;\n  margin-top: 20px;\n  margin-bottom: 20px;\n  margin-left: 20px;\n  display: flex;\n  justify-content: space-between;\n"]);return T=function(){return t},t}function A(){var t=Object(m.a)(["\n  width: 502px;\n  height: 184px;\n  background: #ffffff;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n  margin-top: 20px;\n  padding: 1px;\n"]);return A=function(){return t},t}var D=x.a.div(A()),z=x.a.div(T()),G=x.a.div(B()),I=x.a.img.attrs((function(t){return{src:t.img}}))(C()),L=x.a.div(S()),W=x.a.div(F()),P=x.a.div(E()),R=x.a.div(y()),J=function(t){var e=t.price,n=t.carrier,a=t.forwardRoute,i=t.timeForwardStart,c=t.timeForwardDestination,o=t.timeFlightForward,u=t.stopsForward,l=t.countStopsPhrase,s=t.backRoute,f=t.timeBackdStart,p=t.timeBackDestination,d=t.timeFlightBack,h=t.stopsBack,m=t.countStopsPhraseBack,g="http://pics.avs.io/99/36/".concat(n,".png");return r.a.createElement(D,null,r.a.createElement(z,null,r.a.createElement(G,null,"".concat(e.toLocaleString().split(",").join(" ")," \u0420")),r.a.createElement(I,{img:g})),r.a.createElement(L,null,r.a.createElement(W,null,r.a.createElement(P,null,a),r.a.createElement(R,null,"".concat(i," - ").concat(c))),r.a.createElement(W,null,r.a.createElement(P,null,"\u0412 \u043f\u0443\u0442\u0438"),r.a.createElement(R,null,o)),r.a.createElement(W,null,r.a.createElement(P,null,"".concat(l)),r.a.createElement(R,null,u))),r.a.createElement(L,null,r.a.createElement(W,null,r.a.createElement(P,null,s),r.a.createElement(R,null,"".concat(f," - ").concat(p))),r.a.createElement(W,null,r.a.createElement(P,null,"\u0412 \u043f\u0443\u0442\u0438"),r.a.createElement(R,null,d)),r.a.createElement(W,null,r.a.createElement(P,null,"".concat(m)),r.a.createElement(R,null,h))))},M=function(t){Object(d.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(f.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))).getDestinationTime=function(t,e){return Object(j.a)(t,e)},t.countTime=function(t){var e=Math.trunc(t/60),n=t-60*e;return"".concat(e,"\u0447 ").concat(n,"\u043c")},t.getWord=function(t){return 0===t?"\u041d\u0415\u0422 \u041f\u0415\u0420\u0415\u0421\u0410\u0414\u041e\u041a":1===t?"1 \u041f\u0415\u0420\u0415\u0421\u0410\u0414\u041a\u0410":"".concat(t," \u041f\u0415\u0420\u0415\u0421\u0410\u0414\u041a\u0418")},t}return Object(p.a)(n,[{key:"render",value:function(){var t=this;return this.props.tickets.slice(0,5).map((function(e){var n=e.id,a=e.price,i=e.carrier,c=Object(O.a)(e.segments,2),o=c[0],u=o.origin,l=o.destination,s=o.date,f=o.duration,p=o.stops,d=c[1],h=d.origin,m=d.destination,g=d.date,v=d.duration,x=d.stops;return r.a.createElement(J,{key:n,price:a,carrier:i,forwardRoute:"".concat(u," - ").concat(l),timeForwardStart:Object(w.a)(new Date(s),"kk:mm"),timeForwardDestination:Object(w.a)(Object(j.a)(new Date(s),f),"kk:mm"),timeFlightForward:t.countTime(f),stopsForward:p.join(", "),countStopsPhrase:t.getWord(p.length),backRoute:"".concat(h," - ").concat(m),timeBackdStart:Object(w.a)(new Date(g),"kk:mm"),timeBackDestination:Object(w.a)(Object(j.a)(new Date(g),v),"kk:mm"),timeFlightBack:t.countTime(v),stopsBack:x.join(", "),countStopsPhraseBack:t.getWord(x.length)})}))}}]),n}(r.a.Component),q=n(39);function N(){var t=Object(m.a)(["\n  display: inline-block;\n  width: 20px;\n  height: 20px;\n  background: white;;\n  border-radius: 3px;\n  transition: all 150ms;\n  border-width: 1px;\n  border-style: solid;\n  border-color: ",";;\n  "," {\n    visibility: ","\n  }\n"]);return N=function(){return t},t}function $(){var t=Object(m.a)(["\n  border: 0;\n  clip: rect(0 0 0 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  white-space: nowrap;\n  width: 1px;\n"]);return $=function(){return t},t}function H(){var t=Object(m.a)(["\n  fill: none;\n  stroke: #2196F3;\n  stroke-width: 2px;\n"]);return H=function(){return t},t}function K(){var t=Object(m.a)(["\n  display: inline-block;\n  vertical-align: middle;\n"]);return K=function(){return t},t}var Q=x.a.div(K()),U=x.a.svg(H()),V=x.a.input.attrs({type:"checkbox"})($()),X=x.a.div(N(),(function(t){return t.checked?"#2196F3":"#9ABBCE"}),U,(function(t){return t.checked?"visible":"hidden"})),Y=function(t){var e=t.checked,n=t.onChange;return r.a.createElement(Q,null,r.a.createElement(V,{checked:e,onChange:n}),r.a.createElement(X,{checked:e},r.a.createElement(U,{viewBox:"0 0 24 24"},r.a.createElement("polyline",{points:"20 6 9 17 4 12"}))))};function Z(){var t=Object(m.a)(["\n  margin-left: 8px;\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 13px;\n  line-height: 20px;\n  color: #4a4a4a;\n"]);return Z=function(){return t},t}function _(){var t=Object(m.a)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n"]);return _=function(){return t},t}function tt(){var t=Object(m.a)(["\n  margin-left: 20px;\n  display: flex;\n  flex-direction: column;\n"]);return tt=function(){return t},t}function et(){var t=Object(m.a)(["\n  margin-top: 19px;\n  margin-left: 19px;\n  margin-bottom: 20px;\n  font-family: 'Open Sans';\n  font-style: normal;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 12px;\n  letter-spacing: 0.5px;\n  text-transform: uppercase;\n  color: #4a4a4a;\n"]);return et=function(){return t},t}function nt(){var t=Object(m.a)(["\n  width: 232px;\n  height: 252px;\n  background: #ffffff;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n  padding: 1px;\n"]);return nt=function(){return t},t}var at=x.a.div(nt()),rt=x.a.div(et()),it=x.a.div(tt()),ct=x.a.label(_()),ot=x.a.span(Z()),ut=function(t){Object(d.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(f.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(t=e.call.apply(e,[this].concat(i))).state={filterStatus:["all"]},t.handleCheckboxChange=function(e){return function(n){if("all"===e)return t.setState({filterStatus:["all"]}),void t.update(e);var a=t.state.filterStatus;if(1===a.length&&-1!==e.indexOf(a))return t.setState({filterStatus:["all"]}),void t.update("all");var r=a;-1!==r.indexOf("all")&&(r=[]),n.target.checked&&(r=[].concat(Object(q.a)(r),[e]),t.setState({filterStatus:r})),n.target.checked||(r=r.filter((function(t){return t!==e})),t.setState({filterStatus:r})),t.update(r)}},t.update=function(e){(0,t.props.updateFilteredTransfer)(e)},t.renderCheckboxes=function(){var e=t.state.filterStatus;return[["all","\u0432\u0441\u0435"],["0tranfers","\u0411\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"],["1tranfers","1 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430"],["2tranfers","2 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438"],["3tranfers","3 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438"]].map((function(n){var a=Object(O.a)(n,2),i=a[0],c=a[1];return r.a.createElement(ct,{key:i},r.a.createElement(Y,{checked:-1!==e.indexOf(i),onChange:t.handleCheckboxChange(i)}),r.a.createElement(ot,null,c))}))},t}return Object(p.a)(n,[{key:"render",value:function(){return r.a.createElement(at,null,r.a.createElement(rt,null,"\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"),r.a.createElement(it,null,this.renderCheckboxes()))}}]),n}(r.a.Component);function lt(){var t=Object(m.a)(["\n  font-family: 'Open Sans';\n  font-style: normal;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 20px;\n  display: flex;\n  align-items: center;\n  text-align: center;\n  letter-spacing: 0.5px;\n  text-transform: uppercase;\n  color: ",";\n"]);return lt=function(){return t},t}function st(){var t=Object(m.a)(["\n  width: 252px;\n  height: 50px;\n  border: 1px solid #dfe5ec;\n  border-radius: 10px 0 0 10px;\n  box-sizing: border-box;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: ",";\n  border-radius: ",";\n  :focus {\n    outline: none;\n  }\n"]);return st=function(){return t},t}function ft(){var t=Object(m.a)(["\n  width: 503px;\n  height: 50px;\n  display: flex;\n"]);return ft=function(){return t},t}var pt=x.a.div(ft()),dt=x.a.button(st(),(function(t){return t.active?"#2196f3":"#FFFFFF"}),(function(t){return t.first?"10px 0 0 10px":"0 10px 10px 0"})),ht=x.a.div(lt(),(function(t){return t.active?"#FFFFFF":"#4A4A4A"})),mt=function(t){Object(d.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(f.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))).state={buttonState:"default"},t.handleClickCheap=function(e){e.preventDefault();var n=t.state.buttonState,a=t.props.cheapFastGetFilter;if("cheapest"!==n)return a("cheapest"),void t.setState({buttonState:"cheapest"});a("default"),t.setState({buttonState:"default"})},t.handleClickFast=function(e){e.preventDefault();var n=t.state.buttonState,a=t.props.cheapFastGetFilter;if("fast"!==n)return a("fast"),void t.setState({buttonState:"fast"});a("default"),t.setState({buttonState:"default"})},t}return Object(p.a)(n,[{key:"render",value:function(){var t=this.state.buttonState;return r.a.createElement(pt,null,r.a.createElement(dt,{active:"cheapest"===t,first:!0,onClick:this.handleClickCheap},r.a.createElement(ht,{active:"cheapest"===t},"\u0441\u0430\u043c\u044b\u0439 \u0434\u0435\u0448\u0435\u0432\u044b\u0439")),r.a.createElement(dt,{active:"fast"===t,onClick:this.handleClickFast},r.a.createElement(ht,{active:"fast"===t},"\u0441\u0430\u043c\u044b\u0439 \u0431\u044b\u0441\u0442\u0440\u044b\u0439")))}}]),n}(r.a.Component),gt=n(38),vt=n.n(gt);function xt(){var t=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-left: 20px;\n"]);return xt=function(){return t},t}function bt(){var t=Object(m.a)(["\n  display: flex;\n  justify-content: center;\n"]);return bt=function(){return t},t}function kt(){var t=Object(m.a)(["\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  background: #F3F7FA;\n"]);return kt=function(){return t},t}function Ot(){var t=Object(m.a)(["\n  height: 70px;\n  margin-top: 50px;\n  margin-bottom: 40px;\n  &:hover {\n    cursor: pointer;\n  }\n"]);return Ot=function(){return t},t}var jt=x.a.img.attrs((function(t){return{src:t.img}}))(Ot()),wt=x.a.div(kt()),yt=x.a.div(bt()),Et=x.a.div(xt()),Ft=function(t){Object(d.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(f.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))).state={tickets:[],status:["0tranfers","1tranfers","2tranfers","3tranfers"],filt:"default"},t.searchIdLink="https://front-test.beta.aviasales.ru/search",t.getTicketsLink="https://front-test.beta.aviasales.ru/tickets?searchId=",t.getTickets=Object(s.a)(u.a.mark((function e(){var n,a,r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get(t.searchIdLink);case 3:return n=e.sent,a=n.data.searchId,e.next=7,v.a.get("".concat(t.getTicketsLink).concat(a));case 7:r=e.sent,i=r.data.tickets.map((function(t){return Object(l.a)(Object(l.a)({},t),{},{id:k.a.uniqueId()})})),t.setState({tickets:i}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),t.getTickets();case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),t.getTransferCountFilteredArr=function(e){var n=t.state.status;if(4===n.length)return t.sortArr(e);var a=n.map((function(t){return Number(t[0])})),r=e.filter((function(t){return-1===a.indexOf(t.segments[0].stops.length)&&-1===a.indexOf(t.segments[1].stops.length)}));return r=t.sortArr(r)},t.updateFilteredTransfer=function(e){if("all"!==e&&0!==e.length){var n=["0tranfers","1tranfers","2tranfers","3tranfers"].filter((function(t){return-1===e.indexOf(t)}));t.setState({status:n})}else t.setState({status:["all"]})},t.cheapFastGetFilter=function(e){t.setState({filt:e})},t.renderFastGetFilter=function(e){var n=t.state.filt;if("cheapest"===n){var a=e;return a.sort((function(t,e){return t.price-e.price})),a}if("fast"===n){var r=e;return r.sort((function(t,e){return t.segments[0].duration+t.segments[1].duration-(e.segments[0].duration+e.segments[1].duration)})),r}return e},t.sortArr=function(e){var n=t.state.filt;return"cheapest"===n?e.sort((function(t,e){return t.price-e.price})):"fast"===n?e.sort((function(t,e){return t.segments[0].duration+t.segments[1].duration-(e.segments[0].duration+e.segments[1].duration)})):e},t}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var t=Object(s.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.getTickets();case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this.state.tickets,e=this.renderFastGetFilter(t);return e=this.getTransferCountFilteredArr(e),r.a.createElement(wt,null,r.a.createElement(jt,{img:vt.a}),r.a.createElement(yt,null,r.a.createElement(ut,{updateFilteredTransfer:this.updateFilteredTransfer}),r.a.createElement(Et,null,r.a.createElement(mt,{cheapFastGetFilter:this.cheapFastGetFilter}),r.a.createElement(M,{tickets:e}))))}}]),n}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(Ft,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.369bb966.chunk.js.map